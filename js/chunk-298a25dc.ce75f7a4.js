(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-298a25dc"],{3646:function(e,s,t){"use strict";t("d858")},"73cf":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e._self._c;return s("div",{staticClass:"d-flex flex-column mx-auto",attrs:{id:"register"}},[s("div",{staticClass:"logo mx-auto mb-4"},[s("img",{attrs:{src:t("7175"),width:"50px"}})]),s("p",{staticClass:"title mx-auto mb-4"},[e._v("建立你的帳號")]),s("form",{staticClass:"mx-auto w-100",attrs:{action:""},on:{submit:function(s){return s.preventDefault(),s.stopPropagation(),e.handleSubmit.apply(null,arguments)}}},[s("div",{staticClass:"form-input d-flex flex-column"},[s("label",{staticClass:"form-input-text",attrs:{for:"account"}},[e._v("帳號")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.account,expression:"user.account"}],class:{error:e.isAccountTooLong},attrs:{type:"text",name:"account",id:"account",placeholder:"請輸入帳號",required:""},domProps:{value:e.user.account},on:{input:[function(s){s.target.composing||e.$set(e.user,"account",s.target.value)},function(s){e.isAccountTooLong=!1}]}}),e.isAccountTooLong?s("span",{staticClass:"error-message mx-3"},[e._v("帳號不可超過 20 字！")]):e._e()]),s("div",{staticClass:"form-input d-flex flex-column"},[s("label",{staticClass:"form-input-text",attrs:{for:"name"}},[e._v("名稱")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],class:{error:e.isNameTooLong},attrs:{type:"text",name:"name",id:"name",placeholder:"請輸入使用者名稱",required:""},domProps:{value:e.user.name},on:{input:[function(s){s.target.composing||e.$set(e.user,"name",s.target.value)},function(s){e.isNameTooLong=!1}]}}),e.isNameTooLong?s("span",{staticClass:"error-message mx-3"},[e._v("名稱不可超過 50 字！")]):e._e()]),s("div",{staticClass:"form-input d-flex flex-column"},[s("label",{staticClass:"form-input-text",attrs:{for:"email"}},[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"text",name:"email",id:"email",placeholder:"請輸入帳號",required:""},domProps:{value:e.user.email},on:{input:function(s){s.target.composing||e.$set(e.user,"email",s.target.value)}}})]),s("div",{staticClass:"form-input d-flex flex-column"},[s("label",{staticClass:"form-input-text",attrs:{for:"password"}},[e._v("密碼")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",name:"password",id:"password",placeholder:"請設定密碼",required:""},domProps:{value:e.user.password},on:{input:function(s){s.target.composing||e.$set(e.user,"password",s.target.value)}}}),s("div",{staticClass:"d-flex justify-content-between"})]),s("div",{staticClass:"form-input d-flex flex-column"},[s("label",{staticClass:"form-input-text",attrs:{for:"checkPassword"}},[e._v("密碼確認")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.checkPassword,expression:"user.checkPassword"}],attrs:{type:"password",name:"checkPassword",id:"checkPassword",placeholder:"請再次輸入密碼",required:""},domProps:{value:e.user.checkPassword},on:{input:function(s){s.target.composing||e.$set(e.user,"checkPassword",s.target.value)}}}),s("div",{staticClass:"d-flex justify-content-between"})]),s("div",[s("button",{staticClass:"btn-bg btn-border btn-50 w-100",attrs:{type:"submit",disabled:e.isProcessing}},[e._v(" "+e._s(e.isProcessing?"處理中...":"註冊")+" ")]),s("div",{staticClass:"text-center mb-5"},[s("router-link",{staticClass:"mx-auto text-blue",attrs:{to:"/login"}},[e._v("取消 ")])],1)])])])},r=[],o=(t("d9e2"),t("2fa3")),i=t("7696"),n={name:"Register",data(){return{user:{account:"",name:"",email:"",password:"",checkPassword:""},isNameTooLong:!1,isAccountTooLong:!1,isProcessing:!1}},methods:{async handleSubmit(){try{if(!this.user.account||!this.user.name||!this.user.email||!this.user.password||!this.user.checkPassword)return void o["a"].fire({icon:"warning",title:"請填寫所有欄位"});if(this.user.password!==this.user.checkPassword)return o["a"].fire({icon:"warning",title:"兩次輸入密碼不同，請重新輸入"}),this.user.password="",void(this.user.checkPassword="");if(this.user.account.length>20)return void(this.isAccountTooLong=!0);if(this.user.name.length>50)return void(this.isNameTooLong=!0);this.isProcessing=!0;const e=await i["a"].register({account:this.user.account,name:this.user.name,email:this.user.email,password:this.user.password,checkPassword:this.user.checkPassword});if(console.log(e),"error"===e.data.status)throw new Error(e.data.message);o["a"].fire({icon:"success",title:"註冊成功！請登入帳戶"}),this.$router.push("/login")}catch(e){switch(this.isProcessing=!1,e.response.data.message){case"Error: The account has already been used by someone else.":o["a"].fire({icon:"error",title:"account 已重複註冊！"});break;case"Error: The email has already been used by someone else.":o["a"].fire({icon:"error",title:"email 已重複註冊！"});break}}}}},c=n,u=(t("3646"),t("2877")),l=Object(u["a"])(c,a,r,!1,null,"23f1b812",null);s["default"]=l.exports},d858:function(e,s,t){}}]);
//# sourceMappingURL=chunk-298a25dc.ce75f7a4.js.map