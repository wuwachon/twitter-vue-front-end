{"version":3,"sources":["webpack:///./src/views/Register.vue?fad7","webpack:///./src/views/Register.vue","webpack:///src/views/Register.vue","webpack:///./src/views/Register.vue?3ace","webpack:///./src/views/Register.vue?cae3"],"names":["render","_vm","this","_c","_self","staticClass","attrs","require","_v","on","$event","preventDefault","stopPropagation","handleSubmit","apply","arguments","directives","name","rawName","value","user","account","expression","class","error","isAccountTooLong","domProps","target","composing","$set","_e","isNameTooLong","email","password","checkPassword","isProcessing","_s","staticRenderFns","data","methods","Toast","icon","title","console","component"],"mappings":"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","file":"js/chunk-298a25dc.ce75f7a4.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=style&index=0&id=23f1b812&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"d-flex flex-column mx-auto\",attrs:{\"id\":\"register\"}},[_c('div',{staticClass:\"logo mx-auto mb-4\"},[_c('img',{attrs:{\"src\":require('./../assets/pictures/logo.png'),\"width\":\"50px\"}})]),_c('p',{staticClass:\"title mx-auto mb-4\"},[_vm._v(\"建立你的帳號\")]),_c('form',{staticClass:\"mx-auto w-100\",attrs:{\"action\":\"\"},on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"form-input d-flex flex-column\"},[_c('label',{staticClass:\"form-input-text\",attrs:{\"for\":\"account\"}},[_vm._v(\"帳號\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.account),expression:\"user.account\"}],class:{ error: _vm.isAccountTooLong },attrs:{\"type\":\"text\",\"name\":\"account\",\"id\":\"account\",\"placeholder\":\"請輸入帳號\",\"required\":\"\"},domProps:{\"value\":(_vm.user.account)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.user, \"account\", $event.target.value)},function($event){_vm.isAccountTooLong = false}]}}),(_vm.isAccountTooLong)?_c('span',{staticClass:\"error-message mx-3\"},[_vm._v(\"帳號不可超過 20 字！\")]):_vm._e()]),_c('div',{staticClass:\"form-input d-flex flex-column\"},[_c('label',{staticClass:\"form-input-text\",attrs:{\"for\":\"name\"}},[_vm._v(\"名稱\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.name),expression:\"user.name\"}],class:{ error: _vm.isNameTooLong },attrs:{\"type\":\"text\",\"name\":\"name\",\"id\":\"name\",\"placeholder\":\"請輸入使用者名稱\",\"required\":\"\"},domProps:{\"value\":(_vm.user.name)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.user, \"name\", $event.target.value)},function($event){_vm.isNameTooLong = false}]}}),(_vm.isNameTooLong)?_c('span',{staticClass:\"error-message mx-3\"},[_vm._v(\"名稱不可超過 50 字！\")]):_vm._e()]),_c('div',{staticClass:\"form-input d-flex flex-column\"},[_c('label',{staticClass:\"form-input-text\",attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],attrs:{\"type\":\"text\",\"name\":\"email\",\"id\":\"email\",\"placeholder\":\"請輸入帳號\",\"required\":\"\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.user, \"email\", $event.target.value)}}})]),_c('div',{staticClass:\"form-input d-flex flex-column\"},[_c('label',{staticClass:\"form-input-text\",attrs:{\"for\":\"password\"}},[_vm._v(\"密碼\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],attrs:{\"type\":\"password\",\"name\":\"password\",\"id\":\"password\",\"placeholder\":\"請設定密碼\",\"required\":\"\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.user, \"password\", $event.target.value)}}}),_c('div',{staticClass:\"d-flex justify-content-between\"})]),_c('div',{staticClass:\"form-input d-flex flex-column\"},[_c('label',{staticClass:\"form-input-text\",attrs:{\"for\":\"checkPassword\"}},[_vm._v(\"密碼確認\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.checkPassword),expression:\"user.checkPassword\"}],attrs:{\"type\":\"password\",\"name\":\"checkPassword\",\"id\":\"checkPassword\",\"placeholder\":\"請再次輸入密碼\",\"required\":\"\"},domProps:{\"value\":(_vm.user.checkPassword)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.user, \"checkPassword\", $event.target.value)}}}),_c('div',{staticClass:\"d-flex justify-content-between\"})]),_c('div',[_c('button',{staticClass:\"btn-bg btn-border btn-50 w-100\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isProcessing}},[_vm._v(\" \"+_vm._s(_vm.isProcessing ? \"處理中...\" : \"註冊\")+\" \")]),_c('div',{staticClass:\"text-center mb-5\"},[_c('router-link',{staticClass:\"mx-auto text-blue\",attrs:{\"to\":\"/login\"}},[_vm._v(\"取消 \")])],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"register\" class=\"d-flex flex-column mx-auto\">\r\n    <div class=\"logo mx-auto mb-4\">\r\n      <img :src=\"require('./../assets/pictures/logo.png')\" width=\"50px\" />\r\n    </div>\r\n    <p class=\"title mx-auto mb-4\">建立你的帳號</p>\r\n    <form class=\"mx-auto w-100\" action=\"\" @submit.prevent.stop=\"handleSubmit\">\r\n      <div class=\"form-input d-flex flex-column\">\r\n        <label for=\"account\" class=\"form-input-text\">帳號</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"account\"\r\n          id=\"account\"\r\n          :class=\"{ error: isAccountTooLong }\"\r\n          @input=\"isAccountTooLong = false\"\r\n          v-model=\"user.account\"\r\n          placeholder=\"請輸入帳號\"\r\n          required\r\n        />\r\n        <span v-if=\"isAccountTooLong\" class=\"error-message mx-3\"\r\n          >帳號不可超過 20 字！</span\r\n        >\r\n      </div>\r\n      <div class=\"form-input d-flex flex-column\">\r\n        <label for=\"name\" class=\"form-input-text\">名稱</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          id=\"name\"\r\n          :class=\"{ error: isNameTooLong }\"\r\n          @input=\"isNameTooLong = false\"\r\n          v-model=\"user.name\"\r\n          placeholder=\"請輸入使用者名稱\"\r\n          required\r\n        />\r\n        <span v-if=\"isNameTooLong\" class=\"error-message mx-3\"\r\n          >名稱不可超過 50 字！</span\r\n        >\r\n      </div>\r\n      <div class=\"form-input d-flex flex-column\">\r\n        <label for=\"email\" class=\"form-input-text\">Email</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"email\"\r\n          id=\"email\"\r\n          v-model=\"user.email\"\r\n          placeholder=\"請輸入帳號\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"form-input d-flex flex-column\">\r\n        <label for=\"password\" class=\"form-input-text\">密碼</label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          id=\"password\"\r\n          v-model=\"user.password\"\r\n          placeholder=\"請設定密碼\"\r\n          required\r\n        />\r\n        <div class=\"d-flex justify-content-between\"></div>\r\n      </div>\r\n      <div class=\"form-input d-flex flex-column\">\r\n        <label for=\"checkPassword\" class=\"form-input-text\">密碼確認</label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"checkPassword\"\r\n          id=\"checkPassword\"\r\n          v-model=\"user.checkPassword\"\r\n          placeholder=\"請再次輸入密碼\"\r\n          required\r\n        />\r\n        <div class=\"d-flex justify-content-between\"></div>\r\n      </div>\r\n      <div>\r\n        <button\r\n          type=\"submit\"\r\n          class=\"btn-bg btn-border btn-50 w-100\"\r\n          :disabled=\"isProcessing\"\r\n        >\r\n          {{ isProcessing ? \"處理中...\" : \"註冊\" }}\r\n        </button>\r\n        <div class=\"text-center mb-5\">\r\n          <router-link to=\"/login\" class=\"mx-auto text-blue\">取消 </router-link>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from \"../utils/helpers\";\r\nimport authorizationAPI from \"../apis/authorization\";\r\n\r\nexport default {\r\n  name: \"Register\",\r\n  data() {\r\n    return {\r\n      user: {\r\n        account: \"\",\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        checkPassword: \"\",\r\n      },\r\n      isNameTooLong: false,\r\n      isAccountTooLong: false,\r\n      isProcessing: false,\r\n    };\r\n  },\r\n  methods: {\r\n    async handleSubmit() {\r\n      try {\r\n        // 若任一欄位沒填，防止請求送出\r\n        if (\r\n          !this.user.account ||\r\n          !this.user.name ||\r\n          !this.user.email ||\r\n          !this.user.password ||\r\n          !this.user.checkPassword\r\n        ) {\r\n          Toast.fire({\r\n            icon: \"warning\",\r\n            title: \"請填寫所有欄位\",\r\n          });\r\n          return;\r\n        }\r\n\r\n        // 若兩次密碼不同，清空密碼欄並防止請求送出\r\n        if (this.user.password !== this.user.checkPassword) {\r\n          Toast.fire({\r\n            icon: \"warning\",\r\n            title: \"兩次輸入密碼不同，請重新輸入\",\r\n          });\r\n          this.user.password = \"\";\r\n          this.user.checkPassword = \"\";\r\n          return;\r\n        }\r\n\r\n        // 帳號超過 20 字，防止請求送出\r\n        if (this.user.account.length > 20) {\r\n          this.isAccountTooLong = true;\r\n          return;\r\n        }\r\n\r\n        // 名稱超過 50 字，防止請求送出\r\n        if (this.user.name.length > 50) {\r\n          this.isNameTooLong = true;\r\n          return;\r\n        }\r\n\r\n        // 暫時關閉按鈕\r\n        this.isProcessing = true;\r\n\r\n        const response = await authorizationAPI.register({\r\n          account: this.user.account,\r\n          name: this.user.name,\r\n          email: this.user.email,\r\n          password: this.user.password,\r\n          checkPassword: this.user.checkPassword,\r\n        });\r\n        console.log(response);\r\n        if (response.data.status === \"error\") {\r\n          throw new Error(response.data.message);\r\n        }\r\n\r\n        Toast.fire({\r\n          icon: \"success\",\r\n          title: \"註冊成功！請登入帳戶\",\r\n        });\r\n\r\n        // 註冊成功，跳回登入頁\r\n        this.$router.push(\"/login\");\r\n      } catch (error) {\r\n        this.isProcessing = false;\r\n\r\n        switch (error.response.data.message) {\r\n          case \"Error: The account has already been used by someone else.\":\r\n            Toast.fire({\r\n              icon: \"error\",\r\n              title: \"account 已重複註冊！\",\r\n            });\r\n            break;\r\n          case \"Error: The email has already been used by someone else.\":\r\n            Toast.fire({\r\n              icon: \"error\",\r\n              title: \"email 已重複註冊！\",\r\n            });\r\n            break;\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#register {\r\n  width: 540px;\r\n  padding-top: 60px;\r\n}\r\n.title {\r\n  font-size: 1.5rem;\r\n}\r\n\r\nbutton {\r\n  opacity: 1;\r\n  margin-top: 40px;\r\n  margin-bottom: 22px;\r\n  padding: 8px 158px 8px 158px;\r\n  background-color: var(--main-color);\r\n  cursor: pointer;\r\n}\r\n\r\n.form-input:nth-child(5) {\r\n  margin-bottom: 0rem;\r\n}\r\n\r\n.error-message {\r\n  color: var(--danger-color);\r\n}\r\n\r\n.error {\r\n  border-bottom: 2px solid var(--danger-color);\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=23f1b812&scoped=true&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=23f1b812&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23f1b812\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}